{
  "cdhVersion" : "7.1.7",
  "displayName" : "{{ cluster_name }}",
  "cmVersion" : "{{ cldr_manager_version }}",
  "repositories" : [ "https://archive.cloudera.com/p/cdh7/{latest_supported}/parcels/", "https://archive.cloudera.com/cdh7/{latest_supported}/parcels/", "https://archive.cloudera.com/p/cdh6/{latest_supported}/parcels/", "https://archive.cloudera.com/p/cdh5/parcels/latest", "https://parcels.repos.intel.com/mkl/latest", "https://archive.cloudera.com/accumulo-c5/parcels/latest/", "https://archive.cloudera.com/accumulo6/6.1/parcels/", "https://archive.cloudera.com/kafka/parcels/latest/", "http://archive.cloudera.com/kudu/parcels/latest/" ],
  "products" : [ {
    "version" : "7.1.7-1.cdh7.1.7.p1000.24102687",
    "product" : "CDH"
  } ],
  "services" : [ {
    "refName" : "tez",
    "serviceType" : "TEZ",
    "serviceConfigs" : [ {
      "name" : "tez.am.resource.memory.mb",
      "value" : "1350"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "tez-GATEWAY-BASE",
      "roleType" : "GATEWAY",
      "base" : true
    } ]
  }, {
    "refName" : "ranger",
    "serviceType" : "RANGER",
    "serviceConfigs" : [ {
      "name" : "keyadmin_user_password",
      "variable" : "ranger-keyadmin_user_password"
    }, {
      "name" : "rangerusersync_user_password",
      "variable" : "ranger-rangerusersync_user_password"
    }, {
      "name" : "ranger_database_user",
      "variable" : "ranger-ranger_database_user"
    }, {
      "name" : "ranger_database_host",
      "variable" : "ranger-ranger_database_host"
    }, {
      "name" : "ranger_database_password",
      "variable" : "ranger-ranger_database_password"
    }, {
      "name" : "rangertagsync_user_password",
      "variable" : "ranger-rangertagsync_user_password"
    }, {
      "name" : "rangeradmin_user_password",
      "variable" : "ranger-rangeradmin_user_password"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "ranger-RANGER_USERSYNC-BASE",
      "roleType" : "RANGER_USERSYNC",
      "base" : true
    }, {
      "refName" : "ranger-RANGER_TAGSYNC-BASE",
      "roleType" : "RANGER_TAGSYNC",
      "base" : true
    }, {
      "refName" : "ranger-RANGER_ADMIN-BASE",
      "roleType" : "RANGER_ADMIN",
      "base" : true
    } ]
  }, {
    "refName" : "atlas",
    "serviceType" : "ATLAS",
    "serviceConfigs" : [ {
      "name" : "kerberos.auth.enable",
      "value" : "true"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "atlas-ATLAS_SERVER-BASE",
      "roleType" : "ATLAS_SERVER",
      "base" : true
    } ]
  }, {
    "refName" : "das",
    "serviceType" : "DAS",
    "serviceConfigs" : [ {
      "name" : "data_analytics_studio_database_host",
      "variable" : "das-data_analytics_studio_database_host"
    }, {
      "name" : "data_analytics_studio_database_password",
      "variable" : "das-data_analytics_studio_database_password"
    }, {
      "name" : "kerberos.auth.enabled",
      "value" : "true"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "das-DAS_EVENT_PROCESSOR-BASE",
      "roleType" : "DAS_EVENT_PROCESSOR",
      "base" : true
    }, {
      "refName" : "das-DAS_WEBAPP-BASE",
      "roleType" : "DAS_WEBAPP",
      "base" : true
    } ]
  }, {
    "refName" : "kafka",
    "serviceType" : "KAFKA",
    "serviceConfigs" : [ {
      "name" : "kerberos.auth.enable",
      "value" : "true"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "kafka-KAFKA_BROKER-BASE",
      "roleType" : "KAFKA_BROKER",
      "base" : true
    } ]
  }, {
    "refName" : "hive_on_tez",
    "serviceType" : "HIVE_ON_TEZ",
    "serviceConfigs" : [ {
      "name" : "ranger_plugin_urlauth_filesystem_schemes",
      "value" : "file:,wasb:,adl:"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "hive_on_tez-GATEWAY-BASE",
      "roleType" : "GATEWAY",
      "base" : true
    }, {
      "refName" : "hive_on_tez-HIVESERVER2-BASE",
      "roleType" : "HIVESERVER2",
      "base" : true
    } ]
  }, {
    "refName" : "hue",
    "serviceType" : "HUE",
    "serviceConfigs" : [ {
      "name" : "database_password",
      "variable" : "hue-database_password"
    }, {
      "name" : "database_type",
      "variable" : "hue-database_type"
    }, {
      "name" : "database_port",
      "variable" : "hue-database_port"
    }, {
      "name" : "database_host",
      "variable" : "hue-database_host"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "hue-HUE_SERVER-BASE",
      "roleType" : "HUE_SERVER",
      "base" : true
    }, {
      "refName" : "hue-KT_RENEWER-BASE",
      "roleType" : "KT_RENEWER",
      "base" : true
    } ]
  }, {
    "refName" : "hive",
    "serviceType" : "HIVE",
    "serviceConfigs" : [ {
      "name" : "hive_metastore_database_password",
      "variable" : "hive-hive_metastore_database_password"
    }, {
      "name" : "hive_metastore_database_host",
      "variable" : "hive-hive_metastore_database_host"
    }, {
      "name" : "hive_metastore_database_type",
      "variable" : "hive-hive_metastore_database_type"
    }, {
      "name" : "hive_metastore_database_port",
      "variable" : "hive-hive_metastore_database_port"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "hive-HIVEMETASTORE-BASE",
      "roleType" : "HIVEMETASTORE",
      "base" : true
    } ]
  }, {
    "refName" : "zookeeper",
    "serviceType" : "ZOOKEEPER",
    "serviceConfigs" : [ {
      "name" : "quorum_auth_enable_sasl",
      "value" : "true"
    }, {
      "name" : "enableSecurity",
      "value" : "true"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "zookeeper-SERVER-BASE",
      "roleType" : "SERVER",
      "base" : true
    } ]
  }, {
    "refName" : "impala",
    "serviceType" : "IMPALA",
    "serviceConfigs" : [ {
      "name" : "hadoop_secure_web_ui",
      "value" : "true"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "impala-IMPALAD-BASE",
      "roleType" : "IMPALAD",
      "configs" : [ {
        "name" : "impala_graceful_shutdown_deadline",
        "value" : "60"
      } ],
      "base" : true
    }, {
      "refName" : "impala-STATESTORE-BASE",
      "roleType" : "STATESTORE",
      "base" : true
    }, {
      "refName" : "impala-CATALOGSERVER-BASE",
      "roleType" : "CATALOGSERVER",
      "base" : true
    } ]
  }, {
    "refName" : "solr",
    "serviceType" : "SOLR",
    "serviceConfigs" : [ {
      "name" : "solr_security_authentication",
      "value" : "kerberos"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "solr-SOLR_SERVER-BASE",
      "roleType" : "SOLR_SERVER",
      "base" : true
    } ]
  }, {
    "refName" : "yarn",
    "serviceType" : "YARN",
    "serviceConfigs" : [ {
      "name" : "hadoop_secure_web_ui",
      "value" : "true"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "yarn-NODEMANAGER-BASE",
      "roleType" : "NODEMANAGER",
      "configs" : [ {
        "name" : "yarn_nodemanager_resource_memory_mb",
        "value" : "2048"
      } ],
      "base" : true
    }, {
      "refName" : "yarn-JOBHISTORY-BASE",
      "roleType" : "JOBHISTORY",
      "base" : true
    }, {
      "refName" : "yarn-RESOURCEMANAGER-BASE",
      "roleType" : "RESOURCEMANAGER",
      "configs" : [ {
        "name" : "yarn_scheduler_maximum_allocation_mb",
        "value" : "1536"
      } ],
      "base" : true
    } ]
  }, {
    "refName" : "hbase",
    "serviceType" : "HBASE",
    "serviceConfigs" : [ {
      "name" : "hbase_thriftserver_security_authentication",
      "value" : "auth-conf"
    }, {
      "name" : "hbase_security_authentication",
      "value" : "kerberos"
    }, {
      "name" : "hbase_security_authorization",
      "value" : "true"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "hbase-REGIONSERVER-BASE",
      "roleType" : "REGIONSERVER",
      "base" : true
    }, {
      "refName" : "hbase-MASTER-BASE",
      "roleType" : "MASTER",
      "base" : true
    } ]
  }, {
    "refName" : "hdfs",
    "serviceType" : "HDFS",
    "serviceConfigs" : [ {
      "name" : "dfs_encrypt_data_transfer_algorithm",
      "value" : "AES/CTR/NoPadding"
    }, {
      "name" : "hadoop_security_authentication",
      "value" : "kerberos"
    }, {
      "name" : "hadoop_secure_web_ui",
      "value" : "true"
    }, {
      "name" : "hadoop_security_authorization",
      "value" : "true"
    }, {
      "name" : "core_site_safety_valve",
      "value" : "<property><name>hadoop.http.authentication.simple.anonymous.allowed</name><value>true</value></property><property><name>hadoop.http.authentication.type</name><value>simple</value></property>"
    } ],
    "roleConfigGroups" : [ {
      "refName" : "hdfs-FAILOVERCONTROLLER-BASE",
      "roleType" : "FAILOVERCONTROLLER",
      "base" : true
    }, {
      "refName" : "hdfs-NAMENODE-1",
      "roleType" : "NAMENODE",
      "configs" : [ {
        "name" : "dfs_federation_namenode_nameservice",
        "value" : "cdp-base"
      }, {
        "name" : "dfs_namenode_quorum_journal_name",
        "value" : "cdp-base"
      }, {
        "name" : "autofailover_enabled",
        "value" : "true"
      } ],
      "base" : false
    }, {
      "refName" : "hdfs-DATANODE-BASE",
      "roleType" : "DATANODE",
      "configs" : [ {
        "name" : "dfs_datanode_data_dir_perm",
        "value" : "700"
      }, {
        "name" : "dfs_datanode_port",
        "value" : "1004"
      }, {
        "name" : "dfs_datanode_http_port",
        "value" : "1006"
      } ],
      "base" : true
    }, {
      "refName" : "hdfs-JOURNALNODE-BASE",
      "roleType" : "JOURNALNODE",
      "configs" : [ {
        "name" : "dfs_journalnode_edits_dir",
        "variable" : "hdfs-JOURNALNODE-BASE-dfs_journalnode_edits_dir"
      } ],
      "base" : true
    } ]
  } ],
  "hostTemplates" : [{
    "refName" : "HostTemplate-1-from-master1",
    "cardinality" : 1,
    "roleConfigGroupsRefNames" : [ "das-DAS_EVENT_PROCESSOR-BASE", "das-DAS_WEBAPP-BASE", "hive_on_tez-GATEWAY-BASE", "tez-GATEWAY-BASE" ]
  }, {
    "refName" : "HostTemplate-2-from-master2",
    "cardinality" : 1,
    "roleConfigGroupsRefNames" : [ "hdfs-FAILOVERCONTROLLER-BASE", "hdfs-JOURNALNODE-BASE", "hdfs-NAMENODE-1", "hive_on_tez-GATEWAY-BASE", "impala-CATALOGSERVER-BASE", "impala-STATESTORE-BASE", "ranger-RANGER_ADMIN-BASE", "ranger-RANGER_TAGSYNC-BASE", "ranger-RANGER_USERSYNC-BASE", "tez-GATEWAY-BASE", "yarn-RESOURCEMANAGER-BASE", "zookeeper-SERVER-BASE" ]
  }, {
    "refName" : "HostTemplate-3-from-master3",
    "cardinality" : 1,
    "roleConfigGroupsRefNames" : [ "hbase-MASTER-BASE", "hbase-REGIONSERVER-BASE", "hdfs-DATANODE-BASE", "hdfs-FAILOVERCONTROLLER-BASE", "hdfs-JOURNALNODE-BASE", "hdfs-NAMENODE-1", "hive-HIVEMETASTORE-BASE", "hive_on_tez-GATEWAY-BASE", "hive_on_tez-HIVESERVER2-BASE", "impala-IMPALAD-BASE", "kafka-KAFKA_BROKER-BASE", "tez-GATEWAY-BASE", "yarn-JOBHISTORY-BASE", "yarn-NODEMANAGER-BASE", "yarn-RESOURCEMANAGER-BASE", "zookeeper-SERVER-BASE" ]
  }, {
    "refName" : "HostTemplate-4-from-master4",
    "cardinality" : 1,
    "roleConfigGroupsRefNames" : [ "hbase-REGIONSERVER-BASE", "hdfs-DATANODE-BASE", "hdfs-JOURNALNODE-BASE", "hive-HIVEMETASTORE-BASE", "hive_on_tez-GATEWAY-BASE", "hive_on_tez-HIVESERVER2-BASE", "hue-HUE_SERVER-BASE", "hue-KT_RENEWER-BASE", "impala-IMPALAD-BASE", "kafka-KAFKA_BROKER-BASE", "solr-SOLR_SERVER-BASE", "tez-GATEWAY-BASE", "yarn-NODEMANAGER-BASE", "zookeeper-SERVER-BASE" ]
  }, {
    "refName" : "HostTemplate-5-from-master5",
    "cardinality" : 1,
    "roleConfigGroupsRefNames" : [ "atlas-ATLAS_SERVER-BASE", "hbase-REGIONSERVER-BASE", "hdfs-DATANODE-BASE", "hive_on_tez-GATEWAY-BASE", "impala-IMPALAD-BASE", "kafka-KAFKA_BROKER-BASE", "tez-GATEWAY-BASE", "yarn-NODEMANAGER-BASE" ]
  }],
  "instantiator" : {
    "clusterName" : "{{ cluster_name }}",
    "hosts" : [ {
      "hostName" : "{{ groups['node1'][0] }}",
      "hostTemplateRefName" : "HostTemplate-1-from-master1"
    }, {
      "hostName" : "{{ groups['node2'][0] }}",
      "hostTemplateRefName" : "HostTemplate-2-from-master2"
    }, {
      "hostName" : "{{ groups['node3'][0] }}",
      "hostTemplateRefName" : "HostTemplate-3-from-master3"
    }, {
      "hostName" : "{{ groups['node4'][0] }}",
      "hostTemplateRefName" : "HostTemplate-4-from-master4"
    }, {
      "hostName" : "{{ groups['node5'][0] }}",
      "hostTemplateRefName" : "HostTemplate-5-from-master5"
    }],
    "variables" : [ {
      "name" : "das-data_analytics_studio_database_host",
      "value" : "{{ groups['database'][0] }}"
    }, {
      "name" : "das-data_analytics_studio_database_password",
      "value" : "{{ das_dbpass }}"
    }, {
      "name" : "hdfs-JOURNALNODE-BASE-dfs_journalnode_edits_dir",
      "value" : "/dfs/jn"
    }, {
      "name" : "hive-hive_metastore_database_host",
      "value" : "{{ groups['database'][0] }}"
    }, {
      "name" : "hive-hive_metastore_database_password",
      "value" : "{{ hive_dbpass }}"
    }, {
      "name" : "hive-hive_metastore_database_port",
      "value" : "5432"
    }, {
      "name" : "hive-hive_metastore_database_type",
      "value" : "postgresql"
    }, {
      "name" : "hue-database_host",
      "value" : "{{ groups['database'][0] }}"
    }, {
      "name" : "hue-database_password",
      "value" : "{{ hue_dbpass }}"
    }, {
      "name" : "hue-database_port",
      "value" : "5432"
    }, {
      "name" : "hue-database_type",
      "value" : "postgresql"
    }, {
      "name" : "ranger-keyadmin_user_password",
      "value" : "{{ ranger_keyadmin_pass }}"
    }, {
      "name" : "ranger-ranger_database_host",
      "value" : "{{ groups['database'][0] }}"
    }, {
      "name" : "ranger-ranger_database_password",
      "value" : "{{ ranger_dbpass }}"
    }, {
      "name" : "ranger-ranger_database_user",
      "value" : "ranger"
    }, {
      "name" : "ranger-rangeradmin_user_password",
      "value" : "{{ ranger_admin_pass }}"
    }, {
      "name" : "ranger-rangertagsync_user_password",
      "value" : "{{ ranger_tagsync_pass }}"
    }, {
      "name" : "ranger-rangerusersync_user_password",
      "value" : "{{ ranger_usersync_pass }}"
    } ],
    "roleConfigGroups" : [ {
      "rcgRefName" : "hdfs-NAMENODE-1",
      "name" : ""
    } ],
    "lenient" : false
  }
}